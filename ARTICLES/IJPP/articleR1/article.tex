%%%%%%%%%%%%%%%%%%%%%%% file template.tex %%%%%%%%%%%%%%%%%%%%%%%%%
%
% This is a general template file for the LaTeX package SVJour3
% for Springer journals.          Springer Heidelberg 2010/09/16
%
% Copy it to a new file with a new name and use it as the basis
% for your article. Delete % signs as needed.
%
% This template includes a few options for different layouts and
% content for various journals. Please consult a previous issue of
% your journal as needed.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% First comes an example EPS file -- just ignore it and
% proceed on the \documentclass line
% your LaTeX will extract the file if required
%
\RequirePackage{fix-cm}
%
%\documentclass{svjour3}                     % onecolumn (standard format)
%\documentclass[smallcondensed]{svjour3}     % onecolumn (ditto)
\documentclass[smallextended]{svjour3}       % onecolumn (second format)
%\documentclass[twocolumn]{svjour3}          % twocolumn
%
\smartqed  % flush right qed marks, e.g. at end of proof
%
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb, stmaryrd}
\usepackage{subfig}
\usepackage{caption}
\usepackage{cite}
\usepackage{enumitem}
\usepackage{filecontents}
\usepackage{listings}
\usepackage{mathtools, cuted}
\usepackage{tikz}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usetikzlibrary{calc,arrows,shapes,automata,petri,positioning,decorations.markings,shadows}

\tikzset{
    use/.style={
    circle,draw=black,fill=black,scale=0.5,text=white
    },
    mpi/.style={
    rectangle,draw=black,fill=black,scale=0.8,text=white
    },
    provide/.style={
    circle,draw=black,fill=white,scale=0.5
    },
    component/.style={
    rectangle,rounded corners=3pt,draw=black
    },
    dcomponent/.style={
    rectangle,rounded corners=3pt,dashed,draw=black
    },
}

\usepackage{todonotes}
\usepackage{url}
\usepackage{xspace}
\usepackage{color}

\newcommand{\fix}[1]{\todo[inline,color=red!80]{#1}}
\newcommand{\cf}{\emph{cf.}\xspace}
\newcommand{\ie}{\emph{i.e.,}\xspace}
\newcommand{\llc}{L\textsuperscript{2}C\xspace}

%\newtheorem{theorem}{Theorem}[section]
\newtheorem{myprop}[theorem]{Proposition}
\newtheorem{mydef}[theorem]{Definition}
\newtheorem{myth}[theorem]{Theorem}
\newenvironment{mydefs}[1][Definitions]{\par\medskip\noindent\textbf{#1}\nopagebreak\begin{itemize}[noitemsep,topsep=.25\topsep]}{\end{itemize}}

\def\pprec{\mathrel{\scalebox{.9}[1]{$\prec$}\mkern-3mu%
  \scalebox{.4}[1]{$\prec$}\mkern-5.5mu\scalebox{.4}[1]{$\prec$}}}
\begin{document}

\title{Orchestrating stencils with the Multi-Stencil Framework}

\author{H\'el\`ene Coullon \and Julien Bigot \and Christian Perez}

\institute{H\'el\`ene Coullon \and Christian Perez \at
              INRIA, LIP, ENS Lyon, 46 Allée d'Italie, 69364 Lyon Cedex 07, France\\
              \email{helene.coullon@inria.fr} \email{christian.perez@inria.fr}
           \and
           Julien Bigot \at
           Maison de la Simulation, CEA, CNRS, Univ. Paris-Sud, UVSQ, Universit\'e Paris-Saclay, 91191 Gif-sur-Yvette, France\\
           \email{julien.bigot@cea.fr}
}


\maketitle

\begin{abstract}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% à revoir, il ne faut plus passer le même message et être plus clair avec une vision framework plus que langage seul
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
As the computation power of modern high performance architectures increases, their heterogeneity and complexity also become more important. One of the big challenges of exascale is to get programming models which gives access to high performance computing (HPC) to many scientists and not only to a few HPC specialists. One relevant solution to ease parallel programming for scientists is Domain Specific Language (DSL). However, one problem to avoid with DSLs is to not design a new DSL each time a new domain or a new problem has to be solved. This phenomenon happens for stencil-based numerical simulations, for which a large number of languages has been proposed without code reuse between them. The Multi-Stencil Language (MSL) presented in this paper is a language common to any kind of mesh used into a stencil-based numerical simulation. It is said that MSL is mesh-agnostic. Actually, from the description of a numerical simulation, MSL produces an empty parallel pattern, or skeleton, of the simulation which will be filled using other existing parallel languages and libraries. Thus, MSL, by finding a common language for different kinds of stencil-based simulation, facilitates code reuse. MSL is evaluated on a real case simulation which solves shallow-water equations. It is shown that MSL does not introduce overheads on data parallelism up to 16.384 cores, and that the hybrid parallelism (data and task) introduced improves performance of the simulation.

\keywords{Domain Specific Language (DSL) \and stencil \and numerical simulation \and mesh-agnostic \and data parallelism \and task parallelism \and scheduling \and MPI \and OpenMP}
\end{abstract}

%------------------------------------------------------------------------------
\section{Introduction}
\label{sect:introduction}
\input{introduction.tex}
%------------------------------------------------------------------------------
\section{The Component-Based Multi-Stencil Framework}
\label{sect:msf}
\input{msf.tex}
%------------------------------------------------------------------------------
\section{Meta-modelization of a Multi-Stencil Program}
\label{sect:formalism}
\input{formalism.tex}
%------------------------------------------------------------------------------
\section{Generic Asssembly and The Multi-Stencil Language}
\label{sect:msl}
\input{msl.tex}
%------------------------------------------------------------------------------
\section{The Multi-Stencil Compiler}
\label{sect:parallelism}
\input{parallelism.tex}
%------------------------------------------------------------------------------
\section{Static Scheduling and performance model}
\label{sect:msp}
\input{msp.tex}
%------------------------------------------------------------------------------
\section{Implementation}
\label{sect:comp}
\input{compiler.tex}
%------------------------------------------------------------------------------
\section{Evaluation}
\label{sect:eval}
\input{evaluation.tex}
%------------------------------------------------------------------------------
\section{Related work}
\label{sect:rel}
\input{related.tex}
%------------------------------------------------------------------------------
\section{Conclusion}
\label{sect:concl}
\input{conclusion.tex}
%------------------------------------------------------------------------------

\begin{acknowledgements}
This work has partially been supported by the PIA ELCI project of the French FSN.
This  work  was  granted  access  to  the  HPC  resources  of TGCC under  the 
allocations t2015067470 and x2016067617 made by GENCI.
\end{acknowledgements}

\bibliographystyle{plain}
\bibliography{biblio}

\end{document}
% end of file template.tex

