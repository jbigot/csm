%%%%%%%%%%%%%%%%%%%%%%% file template.tex %%%%%%%%%%%%%%%%%%%%%%%%%
%
% This is a general template file for the LaTeX package SVJour3
% for Springer journals.          Springer Heidelberg 2010/09/16
%
% Copy it to a new file with a new name and use it as the basis
% for your article. Delete % signs as needed.
%
% This template includes a few options for different layouts and
% content for various journals. Please consult a previous issue of
% your journal as needed.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% First comes an example EPS file -- just ignore it and
% proceed on the \documentclass line
% your LaTeX will extract the file if required
%
\RequirePackage{fix-cm}
%
%\documentclass{svjour3}                     % onecolumn (standard format)
%\documentclass[smallcondensed]{svjour3}     % onecolumn (ditto)
\documentclass[smallextended]{svjour3}       % onecolumn (second format)
%\documentclass[twocolumn]{svjour3}          % twocolumn
%
\smartqed  % flush right qed marks, e.g. at end of proof
%
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb, stmaryrd}
\usepackage{subfig}
\usepackage{caption}
\usepackage{cite}
\usepackage{enumitem}
\usepackage{filecontents}
\usepackage{listings}
\usepackage{mathtools, cuted}
\usepackage{tikz}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usetikzlibrary{calc,arrows,shapes,automata,petri,positioning,decorations.markings,shadows}

\usepackage{todonotes}
\usepackage{url}
\usepackage{xspace}

\newcommand{\fix}[1]{\todo[inline,color=red!80]{#1}}
\newcommand{\cf}{\emph{cf.}\xspace}
\newcommand{\ie}{\emph{i.e.,}\xspace}
\newcommand{\llc}{L\textsuperscript{2}C\xspace}

%\newtheorem{theorem}{Theorem}[section]
\newtheorem{myprop}[theorem]{Proposition}
\newtheorem{mydef}[theorem]{Definition}
\newtheorem{myth}[theorem]{Theorem}
% \newenvironment{proof}[1][Proof]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
%\newenvironment{mydef}[1][Definition]{\begin{trivlist}
%\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
%\newenvironment{myth}[1][Theorem]{\begin{trivlist}
%\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
\newenvironment{mydefs}[1][Definitions]{\par\medskip\noindent\textbf{#1}\nopagebreak\begin{itemize}[noitemsep,topsep=.25\topsep]}{\end{itemize}}

\def\pprec{\mathrel{\scalebox{.9}[1]{$\prec$}\mkern-3mu%
  \scalebox{.4}[1]{$\prec$}\mkern-5.5mu\scalebox{.4}[1]{$\prec$}}}
%
% \usepackage{mathptmx}      % use Times fonts if available on your TeX system
%
% insert here the call for the packages your document requires
%\usepackage{latexsym}
% etc.
%
% please place your own definitions here and don't use \def but
% \newcommand{}{}
%
% Insert the name of "your journal" with
% \journalname{myjournal}
%
\begin{document}

\title{The Multi-Stencil Language: orchestrating stencils with a mesh-agnostic DSL}
%\subtitle{Do you have a subtitle?\\ If so, write it here}

%\titlerunning{Short form of title}        % if too long for running head

\author{H\'el\`ene Coullon \and Julien Bigot \and Christian Perez}

%\authorrunning{Short form of author list} % if too long for running head

\institute{H\'el\`ene Coullon \and Christian Perez \at
              INRIA, LIP, ENS Lyon, 46 All√©e d'Italie, 69364 Lyon Cedex 07, France\\
              \email{helene.coullon@inria.fr} \email{christian.perez@inria.fr}
           \and
           Julien Bigot \at
           Maison de la Simulation, CEA, CNRS, Univ. Paris-Sud, UVSQ, Universit\'e Paris-Saclay, 91191 Gif-sur-Yvette, France\\
           \email{julien.bigot@cea.fr}
}

%\date{Received: date / Accepted: date}
% The correct dates will be entered by the editor


\maketitle

\begin{abstract}
As the computation power of modern high performance architectures increases, their heterogeneity and complexity also become more important. One of the big challenges of exascale is to get programming models which gives access to high performance computing (HPC) to many scientists and not only to a few HPC specialists. One relevant solution to ease parallel programming for scientists is Domain Specific Language (DSL). However, one problem to avoid with DSLs is to not design a new DSL each time a new domain or a new problem has to be solved. This phenomenon happens for stencil-based numerical simulations, for which a large number of languages has been proposed without code reuse between them. The Multi-Stencil Language (MSL) presented in this paper is a language common to any kind of mesh used into a stencil-based numerical simulation. It is said that MSL is mesh-agnostic. Actually, from the description of a numerical simulation, MSL produces an empty parallel pattern, or skeleton, of the simulation which will be filled using other existing parallel languages and libraries. Thus, MSL, by finding a common language for different kinds of stencil-based simulation, facilitates code reuse. MSL is evaluated on a real case simulation which solves shallow-water equations. It is shown that MSL does not introduce overheads on data parallelism up to 16.384 cores, and that the hybrid parallelism (data and task) introduced improves performance of the simulation.

\keywords{Domain Specific Language (DSL) \and stencil \and numerical simulation \and mesh-agnostic \and data parallelism \and task parallelism \and scheduling \and MPI \and OpenMP}
\end{abstract}

%------------------------------------------------------------------------------
\section{Introduction}
\label{sect:introduction}
\input{introduction.tex}
%------------------------------------------------------------------------------
\section{Related work}
\label{sect:rel}
\input{related.tex}
%------------------------------------------------------------------------------
\section{Computational model of Multi-Stencil Programs}
\label{sect:formalism}
\input{formalism.tex}
%------------------------------------------------------------------------------
\section{The Multi-Stencil Language}
\label{sect:msl}
\input{msl.tex}
%------------------------------------------------------------------------------
\section{Parallelization of Multi-Stencil Programs}
\label{sect:parallelism}
\input{parallelism.tex}
%------------------------------------------------------------------------------
\section{Static Scheduling and performance model}
\label{sect:msp}
\input{msp.tex}
%------------------------------------------------------------------------------
\section{Implementation}
\label{sect:comp}
\input{compiler.tex}
%------------------------------------------------------------------------------
\section{Evaluation}
\label{sect:eval}
\input{evaluation.tex}
%------------------------------------------------------------------------------
\section{Conclusion}
\label{sect:concl}
\input{conclusion.tex}
%------------------------------------------------------------------------------

%\begin{acknowledgements}
%If you'd like to thank anyone, place your comments here
%and remove the percent signs.
%\end{acknowledgements}

\bibliographystyle{plain}
\bibliography{biblio}

\end{document}
% end of file template.tex

